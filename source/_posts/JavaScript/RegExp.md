---
title: JavaScript 正则表达式
date: 2017-03-12 11:03:14
tags: 
    - JavaScript
    - RegExp
---
**注意：** 正则表达式中不要插入没用的空格。

## 直接量字符

|字符|匹配|
|----|----|
|字母和数字字符|自身|
|\\o|NUL字符 (\\u0000)|
|\\t|制表符 (\\u0009)|
|\\n|换行符 (\\u000A)|
|\\v|垂直制表符 (\\u000B)|
|\\f|换页符 (\\u000C)|
|\\r|回车符 (\\u000D)|

## 字符类

|字符|匹配|
|---|---|
|\[...\]|方括号内的任意字符|
|\[^...\]|不在方括号内的任意字符|
|.|除换行符和其他Unicode行终止符之外的任意字符|
|\\w|任何ASCII字符组成的单词，等价于\[a-zA-Z0-9\]|
|\\W|任何不是ASCII字符组成的单词，等价于\[^a-zA-Z0-9\]|
|\\s|任何Unicode空白符|
|\\S|任何非Unicode空白符的字符，和\\w和\\S不同|
|\\d|任何ASCII数字，等价于\[0-9\]|
|\\D|除了ASCII数字之外的任何字符，等价于\[^0-9\]|
|\[\\b\]|退格直接量|

## 重复

|字符|含义|
|----|----|
|\{n,m\}|匹配前一项至少n次，但是不能超过m次|
|\{n,\}|匹配前一项n次或者更多次|
|\{n\}|匹配前一项n次|
|?|匹配前一项0次或1次， 等价于 \{ 0, 1 \}|
|+|匹配前一项1次或多次，等价于 \{ 1, \}|
|*|匹配前一项0次或多次，等价于 \{ 0, \}|

非贪婪的重复： 例如“??”，“+?”，“*?”

## 正则表达式的选择，分组和引用字符

|字符|含义|
|---|---|
|&#124;|选择，匹配的是该符号左边的子表达式或右边的子表达式|
|(...)|组合，将几个项组合为一个单元，这个单元可通过 “ * ”，“ + ”，“ ？ ” 和 “ &#124; ” 等符号修饰，而且可以记住和这个组合相匹配的字符串供引用使用|
|(?:...)|只组合，把项目组合到一个单元，但不记忆与该组相匹配的字符|
|\\n|和第 n 个富足第一次匹配的字符相匹配，组是圆括号中的子表达式，组索引是从左到右的左括号数|

## 锚字符

|字符|含义|
|---|---|
|\^|匹配字符串的开头，在多行检索中，匹配一行开头|
|\&|匹配字符串的结尾，在多行检索中，匹配一行结尾|
|\\b|匹配字符串的边界，位于字符\\w和\\W之间的位置|
|\\B|匹配非单词边界的位置|
|(?=p)|零宽正向先行断言，要求接下来的字符都与p匹配，但不能包括匹配p的那些字符|
|(?!p)|零宽负向先行断言，要求接下来的字符都不与p匹配|


## 修饰符

|字符|含义|
|---|---|
|i|执行不区分大小写的匹配|
|g|执行一个全局匹配，找到所有的匹配，而不是在找到一个就停止|
|m|多行匹配模式|

# 用于匹配的String方法

### search() 返回匹配字符串的起始坐标，没有则返回-1

### replace() 两个参数，替换字符

### match() 匹配字符串如果没有修饰符g，则不进行全局检索，返回一个数组，在其中可以用括号匹配详细内容

```ecmascript 6
let result = 'visit my Blog :https://www.baidu.com:80'.match(/(https?):\/\/([\w.]+):(\d*)/);
console.log(result);
console.log('协议：',result[1]);
console.log('网址：',result[2]);
console.log('端口：',result[3]);
```

结果

```
[ 'https://www.baidu.com:80',
  'https',
  'www.baidu.com',
  '80',
  index: 15,
  input: 'visit my Blog :https://www.baidu.com:80' ]
协议： https
网址： www.baidu.com
端口： 80
```

### split() 截取字符串