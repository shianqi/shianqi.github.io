
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Tron Blog!">
    <title>Tron Blog!</title>
    <meta name="author" content="Archie Shi">
    
    
    
    <meta name="description" content="Archie&apos;s Blog">
<meta property="og:type" content="blog">
<meta property="og:title" content="Tron Blog!">
<meta property="og:url" content="https://shianqi.github.io/page/6/index.html">
<meta property="og:site_name" content="Tron Blog!">
<meta property="og:description" content="Archie&apos;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tron Blog!">
<meta name="twitter:description" content="Archie&apos;s Blog">
    
    
        
    
    
        <meta property="og:image" content="https://shianqi.github.io../../assets/images/cat_sm.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="../../assets/css/jquery.fancybox-thumbs.css">
    <link rel="stylesheet" href="../../assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="../../ ">Tron Blog!</a>
    </div>
    
        
            <a  class="header-right-icon open-algolia-search"
                href="#about">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="../../#about">
                    <img class="sidebar-profile-picture" src="../../assets/images/cat_sm.png" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">Archie Shi</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Nothing to say</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="../../ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="../../all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="../../all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/shianqi" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="tencent://message/?uin=1210219084&Site=有事Q我&Menu=yes" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-qq"></i>
                        <span class="sidebar-button-desc">QQ</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:shianqi@imudges.com" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/26/DesignPatterns/DesignPrinciples/ISP/">
                            设计原则：接口隔离原则（ISP）
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-26T09:16:36+08:00">
	
		    6月 26, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h1><p>接口隔离原则（Interface Segregation Principle）简称ISP</p>
<h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><p>客户端不应该依赖它不需要的接口；一个类对另一个类的依赖应该建立在最小的接口上。</p>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">I</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method5</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend1</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method1();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend2</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method2();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend3</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method3();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">I</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I的方法1"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I的方法2"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I的方法3"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//对于类B来说，method4和method5不是必需的，但是由于接口A中有这两个方法，  </span></span><br><span class="line">    <span class="comment">//所以在实现过程中即使这两个方法的方法体为空，也要将这两个没有作用的方法进行实现。  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span> </span>&#123;&#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method5</span><span class="params">()</span> </span>&#123;&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend1</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method1();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend2</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method4();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend3</span><span class="params">(I i)</span></span>&#123;  </span><br><span class="line">        i.method5();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">I</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I的方法1"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//对于类D来说，method2和method3不是必需的，但是由于接口A中有这两个方法，  </span></span><br><span class="line">    <span class="comment">//所以在实现过程中即使这两个方法的方法体为空，也要将这两个没有作用的方法进行实现。  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;&#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span> </span>&#123;&#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I的方法4"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method5</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I的方法5"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;  </span><br><span class="line">        A a = <span class="keyword">new</span> A();  </span><br><span class="line">        a.depend1(<span class="keyword">new</span> B());  </span><br><span class="line">        a.depend2(<span class="keyword">new</span> B());  </span><br><span class="line">        a.depend3(<span class="keyword">new</span> B());  </span><br><span class="line"></span><br><span class="line">        C c = <span class="keyword">new</span> C();  </span><br><span class="line">        c.depend1(<span class="keyword">new</span> D());  </span><br><span class="line">        c.depend2(<span class="keyword">new</span> D());  </span><br><span class="line">        c.depend3(<span class="keyword">new</span> D());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 可以看到，如果接口过于臃肿，只要接口中出现的方法，不管对依赖于它的类有没有用处，实现类中都必须去实现这些方法，这显然不是好的设计。如果将这个设计修改为符合接口隔离原则，就必须对接口I进行拆分。在这里我们将原有的接口I拆分为三个接口，拆分后的代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">I1</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">I2</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">I3</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span></span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method5</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend1</span><span class="params">(I1 i)</span></span>&#123;  </span><br><span class="line">        i.method1();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend2</span><span class="params">(I2 i)</span></span>&#123;  </span><br><span class="line">        i.method2();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend3</span><span class="params">(I2 i)</span></span>&#123;  </span><br><span class="line">        i.method3();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">I1</span>, <span class="title">I2</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I1的方法1"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I2的方法2"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类B实现接口I2的方法3"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend1</span><span class="params">(I1 i)</span></span>&#123;  </span><br><span class="line">        i.method1();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend2</span><span class="params">(I3 i)</span></span>&#123;  </span><br><span class="line">        i.method4();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">depend3</span><span class="params">(I3 i)</span></span>&#123;  </span><br><span class="line">        i.method5();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">I1</span>, <span class="title">I3</span></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I1的方法1"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I3的方法4"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method5</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">"类D实现接口I3的方法5"</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>接口尽量小，但是要有限度。对接口进行细化可以提高程序设计灵活性是不争的事实，但是如果过小，则会造成接口数量过多，使设计复杂化。所以一定要适度。</li>
<li>为依赖接口的类定制服务，只暴露给调用的类它需要的方法，它不需要的方法则隐藏起来。只有专注地为一个模块提供定制服务，才能建立最小的依赖关系。</li>
<li>提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情。</li>
</ul>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/26/DesignPatterns/DesignPrinciples/ISP/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/24/DesignPatterns/DesignPrinciples/SRP/">
                            设计原则：单一职责原则（SRP）
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-24T20:10:16+08:00">
	
		    6月 24, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h1><p>单一职责原则（ Single Responsibility Principle ）简称 SRP</p>
<h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><p><em>规定一个类应该只有一个发生变化的原因</em></p>
<p>比如这个类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IPhone</span> </span>&#123;</span><br><span class="line">    <span class="comment">//拨通电话</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dial</span><span class="params">(String phoneNumber)</span></span>;</span><br><span class="line">    <span class="comment">//通话</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">chat</span><span class="params">(Object o)</span></span>;</span><br><span class="line">    <span class="comment">//挂电话</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hangup</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面这段代码（<code>IPhone</code>），拥有两个职责，<code>dial</code> 和 <code>hangup</code> 是负责协议管理，<code>chat</code> 负责数据传输。其中只要有一个需要改变就会导致实现类发生改变，所以不符合 <em>单一职责原则</em> 。</p>
<p>应该将这个接口分成两个，让实现类实现这两个接口。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><em>单一职责原则提出了一个编写程序的标准，用“职责”或“变化原因”来衡量接口或类的设计是否优良，但是“职责”和“变化原因”确实不可度量的，因项目而异，因环境而异</em></p>
<p><em>在实际使用中应该灵活使用</em></p>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/24/DesignPatterns/DesignPrinciples/SRP/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/20/Hexo/Hexo支持Emoji/">
                            Hexo 支持 Emoji
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-20T21:02:22+08:00">
	
		    6月 20, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p><code>Hexo</code> 默认是采用 <code>hexo-renderer-marked</code> ,这个渲染器不支持插件扩展，当然就不行了，还有一个支持插件扩展的是 <code>hexo-renderer-markdown-it</code> ，所以我们可以使用这个渲染引擎来支持 <code>emoji</code>表情，具体实现过程如下：</p>
<p>更换渲染器进入blog跟目录，执行如下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure></p>
<p>安装emoji插件，执行如下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure></p>
<p>编辑 <code>_config.yml</code> 文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">markdown:</span><br><span class="line">  render:</span><br><span class="line">    html: true</span><br><span class="line">    xhtmlOut: false</span><br><span class="line">    breaks: true</span><br><span class="line">    linkify: true</span><br><span class="line">    typographer: true</span><br><span class="line">    quotes: &apos;“”‘’&apos;</span><br><span class="line">  plugins:</span><br><span class="line">    - markdown-it-abbr</span><br><span class="line">    - markdown-it-footnote</span><br><span class="line">    - markdown-it-ins</span><br><span class="line">    - markdown-it-sub</span><br><span class="line">    - markdown-it-sup</span><br><span class="line">    - markdown-it-emoji  # add emoji</span><br><span class="line">  anchors:</span><br><span class="line">    level: 2</span><br><span class="line">    collisionSuffix: &apos;v&apos;</span><br><span class="line">    permalink: true</span><br><span class="line">    permalinkClass: header-anchor</span><br><span class="line">    permalinkSymbol: ¶</span><br></pre></td></tr></table></figure></p>
<p>添加emoji表情<br>先安装emoji<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install emoji --save</span><br><span class="line">npm install twemoji --save</span><br></pre></td></tr></table></figure></p>
<p>编辑node_modules/markdown-it-emoji/index.js文件，最终文件像:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">var emojies_defs      = require(&apos;./lib/data/full.json&apos;);</span><br><span class="line">var emojies_shortcuts = require(&apos;./lib/data/shortcuts&apos;);</span><br><span class="line">var emoji_html        = require(&apos;./lib/render&apos;);</span><br><span class="line">var emoji_replace     = require(&apos;./lib/replace&apos;);</span><br><span class="line">var normalize_opts    = require(&apos;./lib/normalize_opts&apos;);</span><br><span class="line">var twemoji           = require(&apos;twemoji&apos;)  //添加twemoji</span><br><span class="line">module.exports = function emoji_plugin(md, options) &#123;</span><br><span class="line">  var defaults = &#123;</span><br><span class="line">    defs: emojies_defs,</span><br><span class="line">    shortcuts: emojies_shortcuts,</span><br><span class="line">    enabled: []</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  var opts = normalize_opts(md.utils.assign(&#123;&#125;, defaults, options || &#123;&#125;));</span><br><span class="line"></span><br><span class="line">  md.renderer.rules.emoji = emoji_html;</span><br><span class="line">  //使用 twemoji 渲染</span><br><span class="line">  md.renderer.rules.emoji = function(token, idx) &#123;</span><br><span class="line">    return twemoji.parse(token[idx].content);</span><br><span class="line">  &#125;;</span><br><span class="line">  md.core.ruler.push(&apos;emoji&apos;, emoji_replace(md, opts.defs, opts.shortcuts, opts.scanRE, opts.replaceRE));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>在主题CSS中添加你的CSS代码就行了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.emoji&#123;</span><br><span class="line">   width: 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/20/Hexo/Hexo支持Emoji/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/20/Git/GithubEmoji/">
                            Github 提交代码 Emoji
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-20T18:57:13+08:00">
	
		    6月 20, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>An emoji guide for your commit messages: <a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="external">gitmoji</a></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Emoji</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:art:</code></td>
<td>:art:</td>
<td>改进代码的结构/格式</td>
</tr>
<tr>
<td><code>:zap:</code></td>
<td>:zap:</td>
<td>提高性能</td>
</tr>
<tr>
<td><code>:fire:</code></td>
<td>:fire:</td>
<td>删除代码或文件</td>
</tr>
<tr>
<td><code>:bug:</code></td>
<td>:bug:</td>
<td>修复bug</td>
</tr>
<tr>
<td><code>:ambulance:</code></td>
<td>:ambulance:</td>
<td>关键修补程序</td>
</tr>
<tr>
<td><code>:sparkles:</code></td>
<td>:sparkles:</td>
<td>引入新功能</td>
</tr>
<tr>
<td><code>:memo:</code></td>
<td>:memo:</td>
<td>写文档</td>
</tr>
<tr>
<td><code>:rocket:</code></td>
<td>:rocket:</td>
<td>部署项目</td>
</tr>
<tr>
<td><code>:lipstick:</code></td>
<td>:lipstick:</td>
<td>更新UI和样式文件</td>
</tr>
<tr>
<td><code>:tada:</code></td>
<td>:tada:</td>
<td>初始提交</td>
</tr>
<tr>
<td><code>:white_check_mark:</code></td>
<td>:white_check_mark:</td>
<td>添加测试</td>
</tr>
<tr>
<td><code>:lock:</code></td>
<td>:lock:</td>
<td>解决安全问题</td>
</tr>
<tr>
<td><code>:apple:</code></td>
<td>:apple:</td>
<td>修改 macOS 下的一些问题</td>
</tr>
<tr>
<td><code>:penguin:</code></td>
<td>:penguin:</td>
<td>修改 Linux 下的一些问题</td>
</tr>
<tr>
<td><code>:checkered_flag:</code></td>
<td>:checkered_flag:</td>
<td>修改 Windows 下的一些问题</td>
</tr>
<tr>
<td><code>:robot:</code></td>
<td>:robot:</td>
<td>修改 Android 下的一些问题</td>
</tr>
<tr>
<td><code>:green_apple:</code></td>
<td>:green_apple:</td>
<td>修改 IOS 下的一些问题</td>
</tr>
<tr>
<td><code>:bookmark:</code></td>
<td>:bookmark:</td>
<td>发布版本标签</td>
</tr>
<tr>
<td><code>:rotating_light:</code></td>
<td>:rotating_light:</td>
<td>移除 linter 警告</td>
</tr>
<tr>
<td><code>:construction:</code></td>
<td>:construction:</td>
<td>工作正在进行中</td>
</tr>
<tr>
<td><code>:green_heart:</code></td>
<td>:green_heart:</td>
<td>修复CI构建</td>
</tr>
<tr>
<td><code>:arrow_down:</code></td>
<td>:arrow_down:</td>
<td>降级依赖</td>
</tr>
<tr>
<td><code>:arrow_up:</code></td>
<td>:arrow_up:</td>
<td>更新依赖</td>
</tr>
<tr>
<td><code>:construction_worker:</code></td>
<td>:construction_worker:</td>
<td>添加CI构建系统</td>
</tr>
<tr>
<td><code>:chart_with_upwards_trend:</code></td>
<td>:chart_with_upwards_trend:</td>
<td>添加分析或跟踪代码</td>
</tr>
<tr>
<td><code>:hammer:</code></td>
<td>:hammer:</td>
<td>重构代码</td>
</tr>
<tr>
<td><code>:heavy_minus_sign:</code></td>
<td>:heavy_minus_sign:</td>
<td>删除依赖关系</td>
</tr>
<tr>
<td><code>:whale:</code></td>
<td>:whale:</td>
<td>关于Docker的工作</td>
</tr>
<tr>
<td><code>:heavy_plus_sign:</code></td>
<td>:heavy_plus_sign:</td>
<td>添加依赖关系</td>
</tr>
<tr>
<td><code>:wrench:</code></td>
<td>:wrench:</td>
<td>更改配置文件</td>
</tr>
<tr>
<td><code>:globe_with_meridians:</code></td>
<td>:globe_with_meridians:</td>
<td>国际化和本地化</td>
</tr>
<tr>
<td><code>:pencil2:</code></td>
<td>:pencil2:</td>
<td>修正打字错误</td>
</tr>
<tr>
<td><code>:hankey:</code></td>
<td>:hankey:</td>
<td>编写不好的代码，需要改进</td>
</tr>
<tr>
<td><code>:rewind:</code></td>
<td>:rewind:</td>
<td>还原更改</td>
</tr>
<tr>
<td><code>:twisted_rightwards_arrows:</code></td>
<td>:twisted_rightwards_arrows:</td>
<td>合并分支</td>
</tr>
<tr>
<td><code>:package:</code></td>
<td>:package:</td>
<td>更新已编译的文件或包</td>
</tr>
<tr>
<td><code>:alien:</code></td>
<td>:alien:</td>
<td>由于外部API更改而更新代码</td>
</tr>
<tr>
<td><code>:truck:</code></td>
<td>:truck:</td>
<td>移动或重命名文件</td>
</tr>
<tr>
<td><code>:page_facing_up:</code></td>
<td>:page_facing_up:</td>
<td>添加或更新许可证</td>
</tr>
<tr>
<td><code>:boom:</code></td>
<td>:boom:</td>
<td>引入爆炸改变</td>
</tr>
<tr>
<td><code>:bento:</code></td>
<td>:bento:</td>
<td>添加或更新资源</td>
</tr>
<tr>
<td><code>:ok_hand:</code></td>
<td>:ok_hand:</td>
<td>由于代码审查更改而更新代码</td>
</tr>
<tr>
<td><code>:wheelchair:</code></td>
<td>:wheelchair:</td>
<td>改善无障碍</td>
</tr>
<tr>
<td><code>:bulb:</code></td>
<td>:bulb:</td>
<td>文档化源代码</td>
</tr>
<tr>
<td><code>:beers:</code></td>
<td>:beers:</td>
<td>沉迷写代码</td>
</tr>
<tr>
<td><code>:speech_balloon:</code></td>
<td>:speech_balloon:</td>
<td>更新文本和常量</td>
</tr>
<tr>
<td><code>:card_file_box:</code></td>
<td>:card_file_box:</td>
<td>执行数据库相关更改</td>
</tr>
</tbody>
</table>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/20/Git/GithubEmoji/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/20/FetchAPI/FetchAPI多个跨域/">
                            Fetch API 多个跨域
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-20T18:36:13+08:00">
	
		    6月 20, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p>这种写法并不能解决问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: https://www.google.com,https://www.baidu.com</span><br></pre></td></tr></table></figure></p>
<p>应该写成下面这种</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app.all(&apos;*&apos;, function(req, res, next) &#123;</span><br><span class="line">    if( req.headers.origin == &apos;https://www.google.com&apos; || req.headers.origin == &apos;https://www.baidu.com&apos; )&#123;</span><br><span class="line">        res.header(&quot;Access-Control-Allow-Origin&quot;, req.headers.origin);</span><br><span class="line">        res.header(&apos;Access-Control-Allow-Methods&apos;, &apos;POST, GET&apos;);</span><br><span class="line">        res.header(&apos;Access-Control-Allow-Headers&apos;, &apos;X-Requested-With&apos;);</span><br><span class="line">        res.header(&apos;Access-Control-Allow-Headers&apos;, &apos;Content-Type&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>如果想不限制域名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.all(&apos;*&apos;, function(req, res, next) &#123;</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Origin&quot;, req.headers.origin);</span><br><span class="line">    res.header(&apos;Access-Control-Allow-Methods&apos;, &apos;POST, GET&apos;);</span><br><span class="line">    res.header(&apos;Access-Control-Allow-Headers&apos;, &apos;X-Requested-With&apos;);</span><br><span class="line">    res.header(&apos;Access-Control-Allow-Headers&apos;, &apos;Content-Type&apos;);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/20/FetchAPI/FetchAPI多个跨域/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/18/FetchAPI/FetchAPI/">
                            Fetch API
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-18T19:44:03+08:00">
	
		    6月 18, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h2><p><code>JavaScript</code> 通过 <code>XMLHttpRequest(XHR)</code> 来执行异步请求，这个方式已经存在了很长一段时间。但它不是最佳API。它在设计上不符合职责分离原则，将输入、输出和用事件来跟踪的状态混杂在一个对象里。而且，基于事件的模型与最近 <code>JavaScript</code> 流行的 <code>Promise</code> 以及基于生成器的异步编程模型不太搭。新的 <code>Fetch API</code> 打算修正上面提到的那些缺陷。</p>
<p>而与jQuery相比， fetch 方法与 jQuery.ajax() 的主要区别在于：</p>
<ul>
<li><code>fetch()</code> 方法返回的 <code>Promise</code> 对象并不会在HTTP状态码为404或者500的时候自动抛出异常，而需要用户进行手动处理</li>
<li>默认情况下，<code>fetch</code> 并不会发送任何的本地的 <code>cookie</code> 到服务端，注意，如果服务端依靠 <code>Session</code> 进行用户控制的话要默认开启 <code>Cookie</code></li>
</ul>
<h2 id="Installation-amp-Polyfill"><a href="#Installation-amp-Polyfill" class="headerlink" title="Installation &amp; Polyfill"></a>Installation &amp; Polyfill</h2><p><code>window.fetch</code> 是基于 <code>XMLHttpRequest</code> 的浏览器的统一的封装，针对老的浏览器可以使用 <code>Github</code> 的这个<a href="https://github.com/github/fetch" target="_blank" rel="external">polypill</a>。 <code>fetch</code> 基于 <code>ES6</code> 的 <code>Promise</code> ，在旧的浏览器中首先需要引入 <code>Promise</code>的 <code>polypill</code> ，可以用 <a href="https://github.com/stefanpenner/es6-promise" target="_blank" rel="external">es6-promise</a>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install es6-promise</span><br></pre></td></tr></table></figure></p>
<p>使用 <a href="https://github.com/matthew-andrews/isomorphic-fetch" target="_blank" rel="external">isomorphic-fetch</a>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save isomorphic-fetch es6-promise</span><br></pre></td></tr></table></figure></p>
<p>使用的时候也非常方便：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;es6-promise&apos;).polyfill();</span><br><span class="line">require(&apos;isomorphic-fetch&apos;);</span><br><span class="line">fetch(&apos;//offline-news-api.herokuapp.com/stories&apos;)</span><br><span class="line">    .then(function(response) &#123;</span><br><span class="line">        if (response.status &gt;= 400) &#123;</span><br><span class="line">            throw new Error(&quot;Bad response from server&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        return response.json();</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(function(stories) &#123;</span><br><span class="line">        console.log(stories);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users.html&apos;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    return response.text()</span><br><span class="line">  &#125;).then(function(body) &#123;</span><br><span class="line">    document.body.innerHTML = body</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users.json&apos;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    return response.json()</span><br><span class="line">  &#125;).then(function(json) &#123;</span><br><span class="line">    console.log(&apos;parsed json&apos;, json)</span><br><span class="line">  &#125;).catch(function(ex) &#123;</span><br><span class="line">    console.log(&apos;parsing failed&apos;, ex)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Response-metadata"><a href="#Response-metadata" class="headerlink" title="Response metadata"></a>Response metadata</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users.json&apos;).then(function(response) &#123;</span><br><span class="line">  console.log(response.headers.get(&apos;Content-Type&apos;))</span><br><span class="line">  console.log(response.headers.get(&apos;Date&apos;))</span><br><span class="line">  console.log(response.status)</span><br><span class="line">  console.log(response.statusText)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Post-form"><a href="#Post-form" class="headerlink" title="Post form"></a>Post form</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var form = document.querySelector(&apos;form&apos;)</span><br><span class="line"></span><br><span class="line">fetch(&apos;/users&apos;, &#123;</span><br><span class="line">  method: &apos;POST&apos;,</span><br><span class="line">  body: new FormData(form)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Post-JSON"><a href="#Post-JSON" class="headerlink" title="Post JSON"></a>Post JSON</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users&apos;, &#123;</span><br><span class="line">  method: &apos;POST&apos;,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    &apos;Content-Type&apos;: &apos;application/json&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  body: JSON.stringify(&#123;</span><br><span class="line">    name: &apos;Hubot&apos;,</span><br><span class="line">    login: &apos;hubot&apos;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="File-upload"><a href="#File-upload" class="headerlink" title="File upload"></a>File upload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var input = document.querySelector(&apos;input[type=&quot;file&quot;]&apos;)</span><br><span class="line"></span><br><span class="line">var data = new FormData()</span><br><span class="line">data.append(&apos;file&apos;, input.files[0])</span><br><span class="line">data.append(&apos;user&apos;, &apos;hubot&apos;)</span><br><span class="line"></span><br><span class="line">fetch(&apos;/avatars&apos;, &#123;</span><br><span class="line">  method: &apos;POST&apos;,</span><br><span class="line">  body: data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Request-请求构造"><a href="#Request-请求构造" class="headerlink" title="Request:请求构造"></a>Request:请求构造</h2><p>Request对象代表了一次fetch请求中的请求体部分，你可以自定义Request对象:</p>
<ul>
<li><code>method</code> - 使用的HTTP动词，<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>HEAD</code></li>
<li><code>url</code> - 请求地址，<code>URL of the request</code></li>
<li><code>headers</code> - 关联的Header对象</li>
<li><code>referrer</code> - <code>referrer</code></li>
<li><code>mode</code> - 请求的模式，主要用于跨域设置，<code>cors</code>, <code>no-cors</code>, <code>same-origin</code></li>
<li><code>credentials</code> - 是否发送Cookie <code>omit</code>, <code>same-origin</code></li>
<li><code>redirect</code> - 收到重定向请求之后的操作，<code>follow</code>, <code>error</code>, <code>manual</code></li>
<li><code>integrity</code> - 完整性校验</li>
<li><code>cache</code> - 缓存模式(<code>default</code>, <code>reload</code>, <code>no-cache</code>)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var request = new Request(&apos;/users.json&apos;, &#123;</span><br><span class="line">    method: &apos;POST&apos;,</span><br><span class="line">    mode: &apos;cors&apos;,</span><br><span class="line">    redirect: &apos;follow&apos;,</span><br><span class="line">    headers: new Headers(&#123;</span><br><span class="line">        &apos;Content-Type&apos;: &apos;text/plain&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//use it</span><br><span class="line">fetch(request).then(function() &#123; /* handle response */ &#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users.json&apos;, &#123;</span><br><span class="line">    method: &apos;POST&apos;,</span><br><span class="line">    mode: &apos;cors&apos;,</span><br><span class="line">    redirect: &apos;follow&apos;,</span><br><span class="line">    headers: new Headers(&#123;</span><br><span class="line">        &apos;Content-Type&apos;: &apos;text/plain&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(function() &#123; /* handle response */ &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h3><p>如果需要设置fetch自动地发送本地的Cookie，需要将credentials设置为same-origin:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/users&apos;, &#123;</span><br><span class="line">  credentials: &apos;same-origin&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>该选项会以类似于XMLHttpRequest的方式来处理Cookie，否则，可能因为没有发送Cookie而导致基于Session的认证出错。可以将credentials的值设置为include来在CORS情况下发送请求。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;https://example.com:1234/users&apos;, &#123;</span><br><span class="line">  credentials: &apos;include&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="Headers-自定义请求头"><a href="#Headers-自定义请求头" class="headerlink" title="Headers:自定义请求头"></a>Headers:自定义请求头</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// Create an empty Headers instance</span><br><span class="line">var headers = new Headers();</span><br><span class="line"></span><br><span class="line">// Add a few headers</span><br><span class="line">headers.append(&apos;Content-Type&apos;, &apos;text/plain&apos;);</span><br><span class="line">headers.append(&apos;X-My-Custom-Header&apos;, &apos;CustomValue&apos;);</span><br><span class="line"></span><br><span class="line">// Check, get, and set header values</span><br><span class="line">headers.has(&apos;Content-Type&apos;); // true</span><br><span class="line">headers.get(&apos;Content-Type&apos;); // &quot;text/plain&quot;</span><br><span class="line">headers.set(&apos;Content-Type&apos;, &apos;application/json&apos;);</span><br><span class="line"></span><br><span class="line">// Delete a header</span><br><span class="line">headers.delete(&apos;X-My-Custom-Header&apos;);</span><br><span class="line"></span><br><span class="line">// Add initial values</span><br><span class="line">var headers = new Headers(&#123;</span><br><span class="line">    &apos;Content-Type&apos;: &apos;text/plain&apos;,</span><br><span class="line">    &apos;X-My-Custom-Header&apos;: &apos;CustomValue&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="使用webpack前后端跨域发送cookie的问题"><a href="#使用webpack前后端跨域发送cookie的问题" class="headerlink" title="使用webpack前后端跨域发送cookie的问题"></a>使用webpack前后端跨域发送cookie的问题</h3><p>最简单的方法是服务端将响就头设置成 <code>Access-Control-Allow-Origin：域名</code>，如果客户端发送请求时，不需要携带 <code>cookie</code> 等信息，可以设置成 <code>Access-Control-Allow-Origin：*</code> ，表示任何域都可以向服务端发送请求，客户端不需要任何配置，就可以进行跨域调试了。</p>
<p>但一般网站，都需要向后端发送 <code>cookie</code>来进行身份验证，此时，服务器还需向响应头设置 <code>Access-Control-Allow-Credentials:true</code>，表示跨域时，允许cookie添加到请求中。设置 <code>Access-Control-Allow-Credentials:true</code> 后，要将 <code>Access-Control-Allow-Origin</code> 指定到具体的域，否则cookie不会带到客户端，例如设置成<code>Access-Control-Allow-Origin：http://192.168.0.1:8088</code>,<a href="http://192.168.0.1:8088" target="_blank" rel="external">http://192.168.0.1:8088</a> 是前端服务器的域名，这就要求用webpack的时候，要指定具体的域来启动，不要直接用localhost。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">devServer: &#123;</span><br><span class="line">    host: &apos;192.168.0.1:8088&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>要向后端发送cookie，前端也需要有相应的配置。需要将<code>credentials</code>设置成<code>include</code>，表示允许跨越传递<code>cookie</code>，不要将<code>credentials</code>设置成<code>same-origin</code>,如果设置成<code>same-origin</code>，只会在同源的时候发送cookie。另外还要将 <code>withCredentials</code> 设为<code>true</code>。</p>
<h2 id="Response-响应处理"><a href="#Response-响应处理" class="headerlink" title="Response:响应处理"></a>Response:响应处理</h2><p>在fetch的then函数中提供了一个Response对象，即代表着对于服务端返回值的封装，你也可以在Mock的时候自定义Response对象，譬如在你需要使用Service Workers的情况下，在Response中，你可以作如下配置:</p>
<ul>
<li><code>type</code> - basic, cors</li>
<li><code>url</code></li>
<li><code>useFinalURL</code> - 是否为最终地址</li>
<li><code>status</code> - 状态码 (ex: 200, 404, etc.)</li>
<li><code>ok</code> - 是否成功响应 (status in the range 200-299)</li>
<li><code>statusText</code> - status code (ex: OK)</li>
<li><code>headers</code> - 响应头</li>
</ul>
<p>The <code>Response</code> also provides the following methods:</p>
<ul>
<li><code>clone()</code>- Creates a clone of a Response object.</li>
<li><code>error()</code> - Returns a new Response object associated with a network error.</li>
<li><code>redirect()</code> - Creates a new response with a different URL.</li>
<li><code>arrayBuffer()</code> - Returns a promise that resolves with an ArrayBuffer.</li>
<li><code>blob()</code> - Returns a promise that resolves with a Blob.</li>
<li><code>formData()</code> - Returns a promise that resolves with a FormData object.</li>
<li><code>json()</code> - Returns a promise that resolves with a JSON object.</li>
<li><code>text()</code> - Returns a promise that resolves with a USVString (text).</li>
</ul>
<h3 id="处理HTTP错误状态"><a href="#处理HTTP错误状态" class="headerlink" title="处理HTTP错误状态"></a>处理HTTP错误状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function checkStatus(response) &#123;</span><br><span class="line">  if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) &#123;</span><br><span class="line">    return response</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    var error = new Error(response.statusText)</span><br><span class="line">    error.response = response</span><br><span class="line">    throw error</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function parseJSON(response) &#123;</span><br><span class="line">  return response.json()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fetch(&apos;/users&apos;)</span><br><span class="line">  .then(checkStatus)</span><br><span class="line">  .then(parseJSON)</span><br><span class="line">  .then(function(data) &#123;</span><br><span class="line">    console.log(&apos;request succeeded with JSON response&apos;, data)</span><br><span class="line">  &#125;).catch(function(error) &#123;</span><br><span class="line">    console.log(&apos;request failed&apos;, error)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="处理JSON响应"><a href="#处理JSON响应" class="headerlink" title="处理JSON响应"></a>处理JSON响应</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;https://davidwalsh.name/demo/arsenal.json&apos;).then(function(response) &#123;</span><br><span class="line"></span><br><span class="line">// Convert to JSON</span><br><span class="line"></span><br><span class="line">return response.json();</span><br><span class="line"></span><br><span class="line">&#125;).then(function(j) &#123;</span><br><span class="line"></span><br><span class="line">// Yay, `j` is a JavaScript object</span><br><span class="line"></span><br><span class="line">console.log(j);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="处理文本响应"><a href="#处理文本响应" class="headerlink" title="处理文本响应"></a>处理文本响应</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;/next/page&apos;)</span><br><span class="line"></span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line"></span><br><span class="line">    return response.text();</span><br><span class="line"></span><br><span class="line">  &#125;).then(function(text) &#123;</span><br><span class="line"></span><br><span class="line">  // &lt;!DOCTYPE ....</span><br><span class="line"></span><br><span class="line">  console.log(text);</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Blob-Responses"><a href="#Blob-Responses" class="headerlink" title="Blob Responses"></a>Blob Responses</h3><p>如果你希望通过fetch方法来载入一些类似于图片等资源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fetch(&apos;flowers.jpg&apos;)</span><br><span class="line"></span><br><span class="line">    .then(function(response) &#123;</span><br><span class="line"></span><br><span class="line">       return response.blob();</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    .then(function(imageBlob) &#123;</span><br><span class="line"></span><br><span class="line">       document.querySelector(&apos;img&apos;).src = URL.createObjectURL(imageBlob);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">blob()方法会接入一个响应流并且一直读入到结束。</span><br></pre></td></tr></table></figure>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/18/FetchAPI/FetchAPI/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/11/React/React生命周期/">
                            React 生命周期
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-11T15:51:56+08:00">
	
		    6月 11, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h3 id="初始化阶段："><a href="#初始化阶段：" class="headerlink" title="初始化阶段："></a>初始化阶段：</h3><table>
<thead>
<tr>
<th>函数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>constructor(props)</code></td>
<td>构造函数</td>
</tr>
<tr>
<td><code>componentWillMount</code></td>
<td>render之前最后一次修改状态的机会</td>
</tr>
<tr>
<td><code>render</code></td>
<td>只能访问this.props和this.state,只有一个顶层组件，不允许修改状态和DOM输出</td>
</tr>
<tr>
<td><code>componentDidMount</code></td>
<td>成功render并渲染完成真实DOM之后触发，可以修改DOM</td>
</tr>
</tbody>
</table>
<h3 id="运行中阶段："><a href="#运行中阶段：" class="headerlink" title="运行中阶段："></a>运行中阶段：</h3><table>
<thead>
<tr>
<th>函数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>componentWillReceiveProps</code></td>
<td>父组件修改属性触发，可以修改属性、修改状态</td>
</tr>
<tr>
<td><code>shouldComponentUpdate</code></td>
<td>组件是否要更新，返回false会阻止render调用</td>
</tr>
<tr>
<td><code>componentWillUnpdate</code></td>
<td>不能修改状态和属性</td>
</tr>
<tr>
<td><code>render</code></td>
<td>只能访问this.props和this.state,不允许修改状态和DOM输出</td>
</tr>
<tr>
<td><code>componentDidUpdate</code></td>
<td>可以修改DOM</td>
</tr>
</tbody>
</table>
<h3 id="销毁阶段："><a href="#销毁阶段：" class="headerlink" title="销毁阶段："></a>销毁阶段：</h3><table>
<thead>
<tr>
<th>函数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>componentWillUnmount</code></td>
<td>在删除组件之前进行清理操作，比如计时器和事件处理器</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;</span><br><span class="line"></span><br><span class="line">class GD extends Component&#123;</span><br><span class="line"></span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">        console.log(&apos;constructor&apos;)</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            shrinkState: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">        console.log(&apos;componentWillMount&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h3&gt;GD&lt;/h3&gt;</span><br><span class="line">                &lt;input</span><br><span class="line">                    type=&quot;button&quot;</span><br><span class="line">                    onClick=&#123;()=&gt;&#123;</span><br><span class="line">                        this.setState(&#123;</span><br><span class="line">                            shrinkState: false</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;&#125;</span><br><span class="line">                    value=&#123;this.props.name&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        console.log(&apos;componentDidMount&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillReceiveProps() &#123;</span><br><span class="line">        console.log(&apos;componentWillReceiveProps: 父组件修改属性触发&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    shouldComponentUpdate() &#123;</span><br><span class="line">        console.log(&apos;shouldComponentUpdate&apos;)</span><br><span class="line">        return true</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillUpdate() &#123;</span><br><span class="line">        console.log(&apos;componentWillUpdate&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidUpdate() &#123;</span><br><span class="line">        console.log(&apos;componentDidUpdate&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillUnmount ()&#123;</span><br><span class="line">        console.log(&apos;componentWillUnmount&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default GD</span><br></pre></td></tr></table></figure>
                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/11/React/React生命周期/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/11/React-router/history/">
                            react-router history
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-11T10:57:56+08:00">
	
		    6月 11, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="histroy-属性"><a href="#histroy-属性" class="headerlink" title="histroy 属性"></a>histroy 属性</h1><p>Router组件的history属性，用来监听浏览器地址栏的变化，并将URL解析成一个地址对象，供 <code>React Router</code> 匹配。<br>history属性，一共可以设置三种值。</p>
<ul>
<li><code>browserHistory</code></li>
<li><code>hashHistory</code></li>
<li><code>createMemoryHistory</code><br>如果设为 <code>hashHistory</code>，路由将通过URL的hash部分（#）切换，URL的形式类似 <code>example.com/#/some/path</code>。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; hashHistory &#125; from &apos;react-router&apos;</span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Router history=&#123;hashHistory&#125; routes=&#123;routes&#125; /&gt;,</span><br><span class="line">  document.getElementById(&apos;app&apos;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如果设为 <code>browserHistory</code>，浏览器的路由就不再通过Hash完成了，而显示正常的路径 <code>example.com/some/path</code>，背后调用的是浏览器的 <code>History API</code>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; browserHistory &#125; from &apos;react-router&apos;</span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Router history=&#123;browserHistory&#125; routes=&#123;routes&#125; /&gt;,</span><br><span class="line">  document.getElementById(&apos;app&apos;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>但是，这种情况需要对服务器改造。否则用户直接向服务器请求某个子路由，会显示网页找不到的404错误。<br>如果开发服务器使用的是 <code>webpack-dev-server</code>，加上 <code>--history-api-fallback</code>参数就可以了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack-dev-server --inline --content-base . --history-api-fallback</span><br></pre></td></tr></table></figure>
<p>或者在 <code>webpack.config.js</code> 配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    historyApiFallback: true,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>createMemoryHistory主要用于服务器渲染。它创建一个内存中的history对象，不与浏览器URL互动。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const history = createMemoryHistory(location)</span><br></pre></td></tr></table></figure>
                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/11/React-router/history/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/05/UML/UML类图几种关系总结/">
                            UML类图几种关系总结
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-05T08:59:18+08:00">
	
		    6月 05, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <p> 在UML类图中，常见的有以下几种关系: 泛化（Generalization）,  实现（Realization），关联（Association)，聚合（Aggregation），组合(Composition)，依赖(Dependency)</p>
<h2 id="泛化（Generalization）"><a href="#泛化（Generalization）" class="headerlink" title="泛化（Generalization）"></a>泛化（Generalization）</h2><p>【泛化关系】：是一种继承关系，表示一般与特殊的关系，它指定了子类如何特化父类的所有特征和行为。例如：老虎是动物的一种，即有老虎的特性也有动物的共性。</p>
<p>【箭头指向】：带三角箭头的实线，箭头指向父类</p>
<p><img src="./UML类图几种关系总结/fanhua.png" alt="泛化"></p>
<h2 id="实现（Realization）"><a href="#实现（Realization）" class="headerlink" title="实现（Realization）"></a>实现（Realization）</h2><p>【实现关系】：是一种类与接口的关系，表示类是接口所有特征和行为的实现.</p>
<p>【箭头指向】：带三角箭头的虚线，箭头指向接口</p>
<p><img src="./UML类图几种关系总结/shixian.png" alt="泛化"></p>
<h2 id="关联（Association"><a href="#关联（Association" class="headerlink" title="关联（Association)"></a>关联（Association)</h2><p>【关联关系】：是一种拥有的关系，它使一个类知道另一个类的属性和方法；如：老师与学生，丈夫与妻子关联可以是双向的，也可以是单向的。双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。</p>
<p>【代码体现】：成员变量</p>
<p>【箭头及指向】：带普通箭头的实心线，指向被拥有者</p>
<p><img src="./UML类图几种关系总结/guanlian.png" alt="泛化"></p>
<p>上图中，老师与学生是双向关联，老师有多名学生，学生也可能有多名老师。但学生与某课程间的关系为单向关联，一名学生可能要上多门课程，课程是个抽象的东西他不拥有学生。 </p>
<h2 id="聚合（Aggregation）"><a href="#聚合（Aggregation）" class="headerlink" title="聚合（Aggregation）"></a>聚合（Aggregation）</h2><p>【聚合关系】：是整体与部分的关系，且部分可以离开整体而单独存在。如车和轮胎是整体和部分的关系，轮胎离开车仍然可以存在。</p>
<p>聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。</p>
<p>【代码体现】：成员变量</p>
<p>【箭头及指向】：带空心菱形的实心线，菱形指向整体</p>
<p><img src="./UML类图几种关系总结/juhe.png" alt="泛化"></p>
<h2 id="组合-Composition"><a href="#组合-Composition" class="headerlink" title="组合(Composition)"></a>组合(Composition)</h2><p>【组合关系】：是整体与部分的关系，但部分不能离开整体而单独存在。如公司和部门是整体和部分的关系，没有公司就不存在部门。</p>
<p>组合关系是关联关系的一种，是比聚合关系还要强的关系，它要求普通的聚合关系中代表整体的对象负责代表部分的对象的生命周期。</p>
<p>【代码体现】：成员变量</p>
<p>【箭头及指向】：带实心菱形的实线，菱形指向整体</p>
<p><img src="./UML类图几种关系总结/zuhe.png" alt="泛化"></p>
<h2 id="依赖-Dependency"><a href="#依赖-Dependency" class="headerlink" title="依赖(Dependency)"></a>依赖(Dependency)</h2><p>【依赖关系】：是一种使用的关系，即一个类的实现需要另一个类的协助，所以要尽量不使用双向的互相依赖.</p>
<p>【代码表现】：局部变量、方法的参数或者对静态方法的调用</p>
<p>【箭头及指向】：带箭头的虚线，指向被使用者</p>
<p><img src="./UML类图几种关系总结/yilai.png" alt="泛化"></p>
<h2 id="各种关系的强弱顺序"><a href="#各种关系的强弱顺序" class="headerlink" title="各种关系的强弱顺序"></a>各种关系的强弱顺序</h2><p><strong>泛化 = 实现 &gt; 组合 &gt; 聚合 &gt; 关联 &gt; 依赖</strong></p>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/05/UML/UML类图几种关系总结/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="../../2017/06/02/Redux/Object_Spread_Operator/">
                            Redux 中使用 Object Spread Operator （...）
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2017-06-02T22:00:11+08:00">
	
		    6月 02, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h1 id="Redux-中使用-Object-Spread-Operator-（…）"><a href="#Redux-中使用-Object-Spread-Operator-（…）" class="headerlink" title="Redux 中使用 Object Spread Operator （…）"></a>Redux 中使用 Object Spread Operator （…）</h1><p><strong>ES7 Stage 3 阶段</strong></p>
<p>不直接修改 <code>state</code> 是 <code>Redux</code> 的核心理念之一, 所以你会发现自己总是在使用 <code>Object.assign()</code> 创建对象拷贝, 而拷贝中会包含新创建或更新过的属性值。在下面的 todoApp 示例中, <code>Object.assign()</code> 将会返回一个新的 <code>state</code> 对象, 而其中的 <code>visibilityFilter</code> 属性被更新了:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function todoApp(state = initialState, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case SET_VISIBILITY_FILTER:</span><br><span class="line">      return Object.assign(&#123;&#125;, state, &#123;</span><br><span class="line">        visibilityFilter: action.filter</span><br><span class="line">      &#125;)</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>尽管这样可行, 但 <code>Object.assign()</code> 冗长的写法会迅速降低 <code>reducer</code> 的可读性。</p>
<p>一个可行的替代方案是使用ES7的<a href="https://github.com/sebmarkbage/ecmascript-rest-spread" target="_blank" rel="external">对象展开语法</a>提案。该提案让你可以通过展开运算符 <code>(...)</code> , 以更加简洁的形式将一个对象的可枚举属性拷贝至另一个对象。对象展开运算符在概念上与<code>ES6</code>的<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator" target="_blank" rel="external">数组展开运算符</a>相似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function todoApp(state = initialState, action) &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case SET_VISIBILITY_FILTER:</span><br><span class="line">      return &#123; ...state, visibilityFilter: action.filter &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>目前对象展开运算符提案还处于 ES7 Stage 2 草案阶段, 若你想在产品中使用它得依靠转换编译器, 如 Babel。 你可以使用 es2015 预设值, 安装 <code>babel-plugin-transform-object-rest-spread</code> 并将其单独添加到位于 <code>.babelrc</code> 的 <code>plugins</code> 数组中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;es2015&quot;],</span><br><span class="line">  &quot;plugins&quot;: [&quot;transform-object-rest-spread&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

                    
                        
                    
                    
                        <p>
                            <a href="../../2017/06/02/Redux/Object_Spread_Operator/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        <li class="pagination-prev">
            
                <a class="btn btn--default btn--small" href="../5/">
            
                <i class="fa fa-angle-left text-base icon-mr"></i>
                    <span>上一页</span>
            </a>
        </li>
        
        
        <li class="pagination-next">
            <a class="btn btn--default btn--small" href="../7/">
                    <span>下一页</span>
                <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
        </li>
        
        <li class="pagination-number">第 6 页 共 10 页</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 Archie Shi. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="../../assets/images/cat_sm.png" alt="作者的图片"/>
        
            <h4 id="about-card-name">Archie Shi</h4>
        
            <div id="about-card-bio"><p>Nothing to say</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front-End Development Engineer</p>

            </div>
        
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/WebSocket/SocketIo/">
                            <h3 class="media-heading">用 Express,Socket.io 搭建 WebSocket 服务器</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/JavaScript/Event/">
                            <h3 class="media-heading">JavaScript 事件捕获和冒泡</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/JavaScript/Javascript/">
                            <h3 class="media-heading">JavaScript 简介</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/Windows/CMD快速配置IP/">
                            <h3 class="media-heading">CMD快速配置IP地址和DNS</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/BrowserSync/BrowserSync/">
                            <h3 class="media-heading">BrowserSync 使用手册</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/09/04/MongoDB/基本语法/">
                            <h3 class="media-heading">MongoDB 基本语法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年9月4日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/11/14/Webpack/Webpack基础/">
                            <h3 class="media-heading">Webpack 学习笔记</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年11月14日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/12/10/PenetrationTest/ARP/ARP/">
                            <h3 class="media-heading">嗅探，arp欺骗，会话劫持</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月10日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/12/20/PenetrationTest/WiFiCrack/WiFiCrack/">
                            <h3 class="media-heading">用 Kali-Linux 进行 Wifi 破解</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月20日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://shianqi.github.io2016/12/22/PenetrationTest/KaliUpdata/">
                            <h3 class="media-heading">Kali-Linux 更新、环境配置</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年12月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 100 篇文章
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('../../assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="../../assets/js/jquery.js"></script>
<script src="../../assets/js/jquery.fancybox.js"></script>
<script src="../../assets/js/jquery.fancybox-thumbs.js"></script>
<script src="../../assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('DIJHXM8BEG', '65699e0c957896b498d3cf67daac9c0f');
        var algoliaIndex = algoliaClient.initIndex('blog');
    </script>

    </body>
</html>
